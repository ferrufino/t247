<div class="container" style="margin-top: 100px;">

  <form class="col s12" [formGroup]="createProblemForm" (ngSubmit)="evaluteTestCases()">

    <div formGroupName="problemDetails">


      <!-- Problem name -->
      <div class="row">
        <div class="input-field col s12">
          <input id="problem_name" formControlName="problemName" type="text">
          <label for="problem_name">Name of problem</label>
        </div>
      </div>

      <!-- Descriptions -->
      <div class="row">
        <div class="col s12">
          <div class="input-field col s6">
            <textarea id="desc_eng" formControlName="engDescription" class="materialize-textarea"></textarea>
            <label for="desc_eng">Problem description: English</label>
          </div>
          <div class="input-field col s6">
            <textarea id="desc_spn" formControlName="spnDescription" class="materialize-textarea"></textarea>
            <label for="desc_spn">Problem description: Spanish</label>
          </div>
        </div>
      </div>

      <!-- Limits -->
      <div class="row">
        <div class="col s12">

          <div class="input-field col s6">
            <input id="memory_limit" formControlName="memoryLimit" type="number">
            <label for="desc_eng">Memory limit (MB)</label>
          </div>

          <div class="input-field col s6">
            <input id="time_limit" formControlName="timeLimit" type="number">
            <label for="desc_spn">Time limit (Milliseconds)</label>
          </div>

        </div>
      </div>

      <!-- Language and difficulty -->
      <div class="row">
        <div class="col s12">

          <div class="input-field col s6">
            <select>
              <option *ngFor="let lang of supportedLanguages" [value]="lang.name">{{lang.name}}</option>
            </select>
            <label>Solution language</label>
          </div>

          <div class="input-field col s6">
            <select>
              <option *ngFor="let diff of difficulties" [value]="diff">{{diff}}</option>
            </select>
            <label>Problem difficulty</label>
          </div>

        </div>
      </div>

    </div>

    <div class="center-align" style="margin-top: 25px;">
      <a (click)="problemTypeFlag = 1" style="margin-right: 20px;" class="waves-effect waves-light btn-large">Full
        body problem</a>
      <a (click)="problemTypeFlag = 2" class="waves-effect waves-light btn-large">Function problem</a>
    </div>

    <!-- This section is used to upload the problem's files -->
    <div id="problem-file-upload">
      <div [ngSwitch]="problemTypeFlag">

        <div *ngSwitchCase="1">
          <div class="section" style="margin-top: 20px;">
            <br>

            <h5> Please input the source code of the problem</h5>

            <div formGroupName="problemSourceFull">
              <div class="input-field col s12">
                <textarea id="full_problem_code" formControlName="code" class="materialize-textarea"></textarea>
                <label for="full_problem_code">Source code:</label>
              </div>
            </div>

          </div>
        </div>

        <div *ngSwitchCase="2">
          <div class="section" style="margin-top: 20px;">

            <div formGroupName="problemSourceFunction">

              <h5> Please input the source code of the first half for the problem</h5>

              <div class="input-field col s12">
                <textarea id="first_half_code" formControlName="firstHalf" class="materialize-textarea"></textarea>
                <label for="first_half_code">First half</label>
              </div>

              <h5> Please input the source code of the function for the problem</h5>

              <div class="input-field col s12">
                <textarea id="function_code" formControlName="functionCode" class="materialize-textarea"></textarea>
                <label for="function_code">Function code</label>
              </div>

              <h5> Please input the source code of the second half for the problem</h5>

              <div class="input-field col s12">
                <textarea id="second_half_code" formControlName="secondHalf" class="materialize-textarea"></textarea>
                <label for="second_half_code">Second half</label>
              </div>

            </div>

          </div>
        </div>

      </div>
    </div>

    <!-- This section renders the TestCases component -->
    <div *ngIf="problemTypeFlag != 0" id="testcases-section">
      <app-test-cases-creator [(testcaseslist)]="problemTestCases"></app-test-cases-creator>
    </div>

    <button [disabled]="!createProblemForm.valid" type="submit" class="btn waves-effect waves-light btn-large">Submit
      <i class="material-icons right">send</i>
    </button>

  </form>
</div>
