<div class="content-wrapper">

  <!-- Problem form -->
  <div *ngIf="!testCasesReady" class="container">

    <!-- Start of Problem Basic data -->

    <form [formGroup]="createProblemForm"
          (ngSubmit)="evaluteTestCases(selectedLanguage.value, selectedDifficulty.value)">

      <div class="row" formGroupName="problemDetails">

        <!-- PROBLEM DATA -->
        <div class="row">

          <div class="col-xs-12 col-md-8 col-lg-8">

            <!-- Left panel -->
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title">Problem information</h3>
              </div>

              <div class="panel-body">

                <!-- Problem name -->
                <div class="row margin-top20">
                  <div
                    class="input-group margin-top20 col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <span class="input-group-addon" id="label_problemName">Problem name</span>
                    <input id="problem_name" formControlName="problemName" type="text" class="form-control"
                           aria-describedby="label_problemName">
                  </div>
                </div>

                <!-- Descriptions -->
                <div class="row margin-top20">
                  <div
                    class="input-group margin-top20 col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <label for="desc_eng">Problem description: English</label>
                    <textarea id="desc_eng" rows="6" formControlName="engDescription"
                              class="form-control"></textarea>
                  </div>
                </div>
                <div class="row margin-top20 margin-bottom20">
                  <div
                    class="input-group margin-top20 margin-bottom20 col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <label for="desc_spn">Problem description: Spanish</label>
                    <textarea id="desc_spn" rows="6" formControlName="spnDescription"
                              class="form-control"></textarea>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <div class="col-xs-12 col-md-4 col-lg-4">

            <!-- Right panel -->
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title">Problem details</h3>
              </div>

              <div class="panel-body">

                <label>Memory and time limit</label>

                <!-- Memory limit -->
                <div class="row margin-top10">
                  <div
                    class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                  <span class="input-group-addon" id="label_memoryLimit"><span class="glyphicon glyphicon-hdd"
                                                                               aria-hidden="true"></span></span>
                    <input id="memory_limit" formControlName="memoryLimit" type="number" class="form-control"
                           aria-describedby="label_memoryLimit">
                  </div>
                </div>

                <!-- Time limit -->
                <div class="row margin-top10 margin-bottom20">
                  <div
                    class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                  <span class="input-group-addon" id="label_timeLimit"><span class="glyphicon glyphicon-time"
                                                                             aria-hidden="true"></span></span>
                    <input id="time_limit" formControlName="timeLimit" type="number" class="form-control"
                           aria-describedby="label_timeLimit">
                  </div>
                </div>

                <hr>
                <label>Language and difficulty</label>

                <!-- Languages -->
                <div class="row margin-top10">
                  <div
                    class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <label class="margin-right10" for="selectorLanguages">Solution language: </label>
                    <select id="selectorLanguages" #selectedLanguage>
                      <option *ngFor="let lang of supportedLanguages" [value]="lang.value">{{lang.name}}</option>
                    </select>
                  </div>
                </div>

                <!-- Difficulty -->
                <div class="row margin-top10">
                  <div
                    class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <label class="margin-right10" for="selectorDiff">Problem difficulty: </label>
                    <select id="selectorDiff" #selectedDifficulty>
                      <option *ngFor="let diff of difficulties" [value]="diff">{{diff}}</option>
                    </select>
                  </div>
                </div>


                <hr>
                <label>Type of problem</label>

                <div class="row margin-top10">
                  <div class="col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                    <div class="btn-group" role="group" aria-label="...">
                      <button (click)="problemTypeFlag = 1" type="button" class="btn btn-default">Full problem</button>
                      <button (click)="problemTypeFlag = 2" type="button" class="btn btn-default">Function problem
                      </button>
                    </div>
                  </div>
                </div>

              </div>
            </div>

          </div>

        </div>
      </div>

      <!-- PROBLEM SOURCE -->
      <div class="row">

        <div class="row">
          <div class="col-xd-12 col-md-12 col-lg-12">

            <div class="panel panel-primary">
              <div class="panel-heading clearfix">
                <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Panel header</h4>
                <div class="btn-group pull-right">
                  <a (click)="uploadType = 0" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-pencil"
                                                                                   aria-hidden="true"></span></a>
                  <a (click)="uploadType = 1" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-file"
                                                                                   aria-hidden="true"></span></a>
                </div>
              </div>
              <div class="panel-body">

                <!-- This section is used to upload the problem's files -->
                <div id="problem-file-upload">
                  <div [ngSwitch]="problemTypeFlag">

                    <div *ngSwitchCase="1">
                      <div class="row" formGroupName="problemSourceFull">

                        <div
                          class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                          <label for="full_problem_code">Source code</label>
                          <textarea id="full_problem_code" formControlName="code" class="form-control"></textarea>
                        </div>

                      </div>
                    </div>

                    <div *ngSwitchCase="2">
                      <div class="row" formGroupName="problemSourceFunction">

                        <div class="row">
                          <div
                            class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label for="first_half_code">First half of source code</label>
                            <textarea id="first_half_code" formControlName="firstHalf" class="form-control"></textarea>
                          </div>
                        </div>

                        <div class="row">
                          <div
                            class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label for="function_code">Function code</label>
                            <textarea id="function_code" formControlName="functionCode" class="form-control"></textarea>
                          </div>
                        </div>

                        <div class="row">
                          <div
                            class="input-group col-xs-10 col-md-10 col-lg-10 col-xs-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label for="second_half_code">Second half of source code</label>
                            <textarea id="second_half_code" formControlName="secondHalf"
                                      class="form-control"></textarea>
                          </div>
                        </div>

                      </div>
                    </div>

                  </div>
                </div>


              </div>
            </div>

          </div>
        </div>

      </div>

      <!-- This section renders the TestCases component -->
      <div *ngIf="problemTypeFlag != 0" id="testcases-section">
        <app-test-cases-creator [(testcaseslist)]="problemTestCases"></app-test-cases-creator>
      </div>

    </form>

    <!-- End of Problem Basic data -->

  </div>

</div>
